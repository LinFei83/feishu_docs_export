# é£ä¹¦æ–‡æ¡£å¯¼å‡ºåŠ©æ‰‹

ä¸€ä¸ªåŸºäº Tauri + React + TypeScript å¼€å‘çš„è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼Œç”¨äºæ‰¹é‡å¯¼å‡ºé£ä¹¦ï¼ˆFeishu/Larkï¼‰æ–‡æ¡£å’Œæ–‡ä»¶ã€‚

## âœ¨ æŠ€æœ¯ç‰¹ç‚¹

### ğŸ—ï¸ æŠ€æœ¯æ¶æ„
- **å‰ç«¯æ¡†æ¶**: React 19 + TypeScript + Vite
- **UI ç»„ä»¶åº“**: Ant Design 5.x
- **æ¡Œé¢æ¡†æ¶**: Tauri 2.x (Rust)
- **æ•°æ®åº“**: SQLite (é€šè¿‡ Tauri SQL æ’ä»¶)
- **HTTP å®¢æˆ·ç«¯**: Axios + è‡ªå®šä¹‰ Tauri é€‚é…å™¨
- **çŠ¶æ€ç®¡ç†**: React Hooks

### ğŸ”§ æ ¸å¿ƒæŠ€æœ¯
- **è·¨å¹³å°æ”¯æŒ**: åŸºäº Tauri æ¡†æ¶ï¼Œæ”¯æŒ Windowsã€macOSã€Linux
- **åŸç”Ÿæ€§èƒ½**: Rust åç«¯æä¾›é«˜æ€§èƒ½æ–‡ä»¶æ“ä½œå’Œç½‘ç»œè¯·æ±‚
- **å®‰å…¨æ€§**: Tauri çš„å®‰å…¨æ²™ç®±æœºåˆ¶ï¼Œæœ€å°åŒ–ç³»ç»Ÿæƒé™
- **ç°ä»£åŒ– UI**: å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜
- **å¢é‡ä¸‹è½½**: æ”¯æŒæ–­ç‚¹ç»­ä¼ å’Œä»»åŠ¡æ¢å¤
- **å¹¶å‘æ§åˆ¶**: æ™ºèƒ½çš„ä¸‹è½½ä»»åŠ¡ç®¡ç†å’Œè¿›åº¦è·Ÿè¸ª

## ğŸš€ ä¸»è¦åŠŸèƒ½

### åº”ç”¨ç•Œé¢é¢„è§ˆ

#### é¦–é¡µ - æ–‡ä»¶æµè§ˆ
![é¦–é¡µ](docs/home.jpg)

#### ç™»å½•æˆæƒé¡µé¢
![ç™»å½•é¡µ](docs/auth.jpg)

#### è®¾ç½®é¡µé¢
![è®¾ç½®é¡µ](docs/setting.jpg)

#### ä»»åŠ¡åˆ—è¡¨é¡µé¢
![ä»»åŠ¡åˆ—è¡¨é¡µ](docs/task_list.jpg)

#### ä¸‹è½½æ–‡ä»¶åˆ—è¡¨
![ä¸‹è½½æ–‡ä»¶åˆ—è¡¨](docs/file_list.jpg)

### ğŸ“ æ–‡ä»¶æµè§ˆä¸ç®¡ç†
- **äº‘ç›˜æ–‡ä»¶æµè§ˆ**: æ”¯æŒæµè§ˆé£ä¹¦äº‘ç›˜ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
- **çŸ¥è¯†åº“å¯¼èˆª**: å®Œæ•´çš„çŸ¥è¯†åº“ç©ºé—´å’Œæ–‡æ¡£æ ‘å½¢ç»“æ„å±•ç¤º
- **æ–‡ä»¶ç±»å‹æ”¯æŒ**: æ”¯æŒæ–‡æ¡£ã€è¡¨æ ¼ã€æ¼”ç¤ºæ–‡ç¨¿ã€PDF ç­‰å¤šç§æ–‡ä»¶æ ¼å¼
- **å®æ—¶æœç´¢**: å¿«é€Ÿå®šä½ç›®æ ‡æ–‡ä»¶å’Œæ–‡æ¡£

### ğŸ“¥ æ‰¹é‡ä¸‹è½½åŠŸèƒ½
- **é€‰æ‹©æ€§ä¸‹è½½**: æ”¯æŒå•ä¸ªæ–‡ä»¶ã€æ–‡ä»¶å¤¹æˆ–æ•´ä¸ªçŸ¥è¯†åº“çš„ä¸‹è½½
- **æ ¼å¼è½¬æ¢**: è‡ªåŠ¨å°†é£ä¹¦æ–‡æ¡£å¯¼å‡ºä¸º PDFã€Wordã€Excel ç­‰æ ¼å¼
- **ç›®å½•ç»“æ„ä¿æŒ**: ä¸‹è½½æ—¶ä¿æŒåŸæœ‰çš„æ–‡ä»¶å¤¹å±‚çº§ç»“æ„
- **è¿›åº¦ç›‘æ§**: å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦å’ŒçŠ¶æ€

### ğŸ”„ ä»»åŠ¡ç®¡ç†
- **ä»»åŠ¡é˜Ÿåˆ—**: æ”¯æŒå¤šä¸ªä¸‹è½½ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œ
- **æ–­ç‚¹ç»­ä¼ **: ç½‘ç»œä¸­æ–­åå¯æ¢å¤ä¸‹è½½
- **ä»»åŠ¡å†å²**: æŸ¥çœ‹å†å²ä¸‹è½½è®°å½•å’ŒçŠ¶æ€
- **é”™è¯¯å¤„ç†**: æ™ºèƒ½é‡è¯•æœºåˆ¶å’Œè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

### ğŸ” å®‰å…¨è®¤è¯
- **OAuth 2.0**: å®‰å…¨çš„é£ä¹¦ OAuth æˆæƒæµç¨‹
- **Token ç®¡ç†**: è‡ªåŠ¨åˆ·æ–°è®¿é—®ä»¤ç‰Œ
- **æƒé™æ§åˆ¶**: æœ€å°åŒ–æƒé™åŸåˆ™ï¼Œä»…ç”³è¯·å¿…è¦çš„ API æƒé™

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æœ€ä½é…ç½®
- **æ“ä½œç³»ç»Ÿ**: 
  - Windows 10 (1903+) / Windows 11
  - macOS 12.0+
  - Linux (Ubuntu 18.04+, Debian 10+, CentOS 8+)
- **å†…å­˜**: 4GB RAM
- **å­˜å‚¨**: 100MB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### æ¨èé…ç½®
- **å†…å­˜**: 8GB+ RAM
- **å­˜å‚¨**: 1GB+ å¯ç”¨ç©ºé—´ï¼ˆç”¨äºç¼“å­˜ä¸‹è½½æ–‡ä»¶ï¼‰
- **ç½‘ç»œ**: å®½å¸¦è¿æ¥ï¼ˆæå‡ä¸‹è½½é€Ÿåº¦ï¼‰

## ğŸ› ï¸ å®‰è£…ä¸ä½¿ç”¨

### æ–¹å¼ä¸€ï¼šä¸‹è½½é¢„ç¼–è¯‘ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

1. è®¿é—® [Releases é¡µé¢](https://github.com/ytcheng/feishu_docs_export/releases)
2. ä¸‹è½½é€‚åˆæ‚¨æ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…ï¼š
   - **Windows**: `feishu_docs_export_x.x.x_x64_en-US.msi`
   - **macOS (Intel)**: `feishu_docs_export_x.x.x_x64.dmg`
   - **macOS (Apple Silicon)**: `feishu_docs_export_x.x.x_aarch64.dmg`
   - **Linux**: `feishu_docs_export_x.x.x_amd64.deb` æˆ– `feishu_docs_export_x.x.x_amd64.AppImage`
3. è¿è¡Œå®‰è£…åŒ…å¹¶æŒ‰ç…§æç¤ºå®Œæˆå®‰è£…

> ğŸ’¡ **è‡ªåŠ¨æ„å»º**: æ‰€æœ‰å‘å¸ƒç‰ˆæœ¬éƒ½é€šè¿‡ GitHub Actions è‡ªåŠ¨æ„å»ºï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå®‰å…¨æ€§

### æ–¹å¼äºŒï¼šä»æºç æ„å»º

#### ç¯å¢ƒå‡†å¤‡
```bash
# å®‰è£… Node.js (æ¨è 18.x+)
# å®‰è£… Rust (æ¨èæœ€æ–°ç¨³å®šç‰ˆ)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£… Tauri CLI
cargo install tauri-cli
```

#### æ„å»ºæ­¥éª¤
```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ytcheng/feishu_docs_export.git
cd feishu_docs_export

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run tauri dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run tauri build
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. é…ç½®é£ä¹¦åº”ç”¨

#### åˆ›å»ºé£ä¹¦åº”ç”¨
1. è®¿é—® [é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/)
2. åˆ›å»ºä¼ä¸šè‡ªå»ºåº”ç”¨
3. è®°å½•åº”ç”¨çš„ `App ID` å’Œ `App Secret`

#### é…ç½®åº”ç”¨æƒé™
åœ¨åº”ç”¨ç®¡ç†åå°çš„ã€Œæƒé™ç®¡ç†ã€ä¸­å¼€é€šä»¥ä¸‹æƒé™ï¼š

**å¿…éœ€æƒé™**:
- `docs:doc` - æŸ¥çœ‹ã€è¯„è®ºå’Œå¯¼å‡ºæ–‡æ¡£
- `docs:document.media:download` - ä¸‹è½½æ–‡æ¡£ä¸­çš„åª’ä½“æ–‡ä»¶
- `docs:document:export` - å¯¼å‡ºæ–‡æ¡£ä¸ºå…¶ä»–æ ¼å¼
- `docx:document` - è®¿é—®æ–°ç‰ˆæ–‡æ¡£
- `drive:drive` - æŸ¥çœ‹äº‘ç›˜ä¿¡æ¯
- `drive:file` - æŸ¥çœ‹äº‘ç›˜æ–‡ä»¶
- `drive:file:download` - ä¸‹è½½äº‘ç›˜æ–‡ä»¶
- `offline_access` - è·å– refresh token
- `bitable:app` - æŸ¥çœ‹ã€è¯„è®ºã€ç¼–è¾‘å’Œç®¡ç†å¤šç»´è¡¨æ ¼
- `wiki:wiki` - æŸ¥çœ‹ã€ç¼–è¾‘å’Œç®¡ç†çŸ¥è¯†åº“
- `sheets:spreadsheet` - æŸ¥çœ‹ã€è¯„è®ºã€ç¼–è¾‘å’Œç®¡ç†ç”µå­è¡¨æ ¼
- 

#### è®¾ç½®é‡å®šå‘ URL
åœ¨åº”ç”¨çš„ã€Œå®‰å…¨è®¾ç½®ã€ä¸­æ·»åŠ é‡å®šå‘ URLï¼š
```
http://localhost:3000/callback
http://localhost:3001/callback
```

### 2. åº”ç”¨é…ç½®

1. å¯åŠ¨åº”ç”¨åï¼Œé¦–æ¬¡ä½¿ç”¨ä¼šè‡ªåŠ¨è·³è½¬åˆ°è®¾ç½®é¡µé¢
2. å¡«å†™é£ä¹¦åº”ç”¨ä¿¡æ¯ï¼š
   - **App ID**: æ‚¨çš„é£ä¹¦åº”ç”¨ ID
   - **App Secret**: æ‚¨çš„é£ä¹¦åº”ç”¨å¯†é’¥
   - **API ç«¯ç‚¹**: ä¿æŒé»˜è®¤å€¼ `https://open.feishu.cn/open-apis`
3. ç‚¹å‡»ã€Œä¿å­˜é…ç½®ã€

### 3. æˆæƒç™»å½•

1. é…ç½®å®Œæˆåä¼šè·³è½¬åˆ°æˆæƒé¡µé¢
2. ç‚¹å‡»ã€Œå¼€å§‹æˆæƒã€æŒ‰é’®
3. åœ¨å¼¹å‡ºçš„æµè§ˆå™¨çª—å£ä¸­å®Œæˆé£ä¹¦ç™»å½•å’Œæˆæƒ
4. æˆæƒæˆåŠŸåè‡ªåŠ¨è¿”å›åº”ç”¨ä¸»ç•Œé¢

### 4. æµè§ˆå’Œä¸‹è½½æ–‡ä»¶

#### æµè§ˆæ–‡ä»¶
- **äº‘ç›˜æ–‡ä»¶**: åœ¨ä¸»ç•Œé¢å±•å¼€ã€Œæˆ‘çš„äº‘ç›˜ã€èŠ‚ç‚¹æµè§ˆæ–‡ä»¶
- **çŸ¥è¯†åº“**: å±•å¼€ã€ŒçŸ¥è¯†åº“ã€èŠ‚ç‚¹æµè§ˆå„ä¸ªçŸ¥è¯†ç©ºé—´çš„æ–‡æ¡£

#### ä¸‹è½½æ–‡ä»¶
1. é€‰æ‹©è¦ä¸‹è½½çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼ˆæ”¯æŒå¤šé€‰ï¼‰
2. ç‚¹å‡»ã€Œä¸‹è½½é€‰ä¸­é¡¹ã€æŒ‰é’®
3. é€‰æ‹©æœ¬åœ°ä¿å­˜è·¯å¾„
4. è¾“å…¥ä»»åŠ¡åç§°å’Œæè¿°ï¼ˆå¯é€‰ï¼‰
5. ç‚¹å‡»ã€Œå¼€å§‹ä¸‹è½½ã€

#### ç®¡ç†ä¸‹è½½ä»»åŠ¡
- ç‚¹å‡»é¡¶éƒ¨ã€Œä»»åŠ¡åˆ—è¡¨ã€æŸ¥çœ‹æ‰€æœ‰ä¸‹è½½ä»»åŠ¡
- æ”¯æŒæš‚åœã€æ¢å¤ã€åˆ é™¤ä»»åŠ¡
- ç‚¹å‡»ã€ŒæŸ¥çœ‹æ–‡ä»¶ã€å¯æŸ¥çœ‹ä»»åŠ¡ä¸­çš„å…·ä½“æ–‡ä»¶åˆ—è¡¨
- ç‚¹å‡»ã€Œæ‰“å¼€æ–‡ä»¶å¤¹ã€å¯ç›´æ¥æ‰“å¼€ä¸‹è½½ç›®å½•

## ğŸ”§ å¼€å‘æŒ‡å—

### CI/CD è‡ªåŠ¨åŒ–

æœ¬é¡¹ç›®ä½¿ç”¨ GitHub Actions å®ç°è‡ªåŠ¨åŒ–æ„å»ºå’Œå‘å¸ƒï¼š

#### ğŸš€ è‡ªåŠ¨å‘å¸ƒæµç¨‹ï¼ˆReleaseï¼‰
- **è§¦å‘æ¡ä»¶**: æ¨é€åˆ° `release` åˆ†æ”¯
- **æ„å»ºå¹³å°**: è‡ªåŠ¨æ„å»º Windowsã€macOS (Intel + Apple Silicon)ã€Linux ç‰ˆæœ¬
- **å‘å¸ƒæ–¹å¼**: è‡ªåŠ¨åˆ›å»º GitHub Releaseï¼ˆè‰ç¨¿ï¼‰å¹¶ä¸Šä¼ æ‰€æœ‰å¹³å°çš„å®‰è£…åŒ…

**å‘å¸ƒæ­¥éª¤**:
```bash
# 1. ç¡®ä¿ä»£ç åœ¨ main åˆ†æ”¯å·²æµ‹è¯•é€šè¿‡
git checkout main
git pull

# 2. åˆå¹¶åˆ° release åˆ†æ”¯å¹¶æ¨é€ï¼ˆè§¦å‘è‡ªåŠ¨å‘å¸ƒï¼‰
git checkout release
git merge main
git push origin release

# 3. å‘å¸ƒå®Œæˆåï¼Œå¯ä»¥æ‰“æ ‡ç­¾æ ‡è®°ç‰ˆæœ¬
git tag v1.0.0
git push origin v1.0.0
```

#### ğŸ§ª æŒç»­é›†æˆï¼ˆBuild and Testï¼‰
- **è§¦å‘æ¡ä»¶**: 
  - æ¨é€åˆ° `main` æˆ– `develop` åˆ†æ”¯
  - åˆ›å»ºé’ˆå¯¹ `main` åˆ†æ”¯çš„ Pull Request
- **æ£€æŸ¥é¡¹ç›®**: å‰ç«¯æ„å»ºã€Rust æµ‹è¯•ã€è·¨å¹³å°æ„å»ºæµ‹è¯•
- **æ”¯æŒå¹³å°**: Windowsã€macOSã€Linux

**æµ‹è¯•æ­¥éª¤**:
```bash
# æ¨é€åˆ° main æˆ– develop åˆ†æ”¯ä¼šè‡ªåŠ¨è§¦å‘æµ‹è¯•
git push origin main

# æˆ–åˆ›å»º Pull Request åˆ° main åˆ†æ”¯
git push origin feature/my-feature
# ç„¶ååœ¨ GitHub ä¸Šåˆ›å»º PR
```

### é¡¹ç›®ç»“æ„
```
feishu_docs_export/
â”œâ”€â”€ src/                    # React å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AuthPage.tsx   # æˆæƒé¡µé¢
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx   # ä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ TaskListPage.tsx # ä»»åŠ¡åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ SettingsPage.tsx # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ feishuApi.ts   # é£ä¹¦ API å°è£…
â”‚   â”‚   â”œâ”€â”€ taskManager.ts # ä»»åŠ¡ç®¡ç†
â”‚   â”‚   â””â”€â”€ http.ts        # HTTP é€‚é…å™¨
â”‚   â””â”€â”€ App.tsx            # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ src-tauri/             # Tauri åç«¯æºç 
â”‚   â”œâ”€â”€ src/               # Rust æºç 
â”‚   â”œâ”€â”€ capabilities/      # æƒé™é…ç½®
â”‚   â””â”€â”€ tauri.conf.json    # Tauri é…ç½®
â”œâ”€â”€ package.json           # Node.js ä¾èµ–
â””â”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
```

### å¼€å‘å‘½ä»¤
```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run tauri dev

# ç±»å‹æ£€æŸ¥
npm run build

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run tauri build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### è°ƒè¯•æŠ€å·§
- å¼€å‘æ¨¡å¼ä¸‹æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
- æŸ¥çœ‹ Rust åç«¯æ—¥å¿—ï¼š`cargo tauri dev -- --verbose`
- æ•°æ®åº“æ–‡ä»¶ä½ç½®ï¼š`src-tauri/.data/feishu_docs_export.db`

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### æäº¤ Issue
- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜æè¿°é—®é¢˜
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«é”™è¯¯æ—¥å¿—å’Œæˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰
- è¯´æ˜æ‚¨çš„æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç‰ˆæœ¬

### æäº¤ Pull Request
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ
- éµå¾ª TypeScript å’Œ Rust çš„æœ€ä½³å®è·µ
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿ä»£ç é€šè¿‡ lint æ£€æŸ¥
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•ç”¨ä¾‹

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ™ è‡´è°¢

- [Tauri](https://tauri.app/) - ç°ä»£åŒ–çš„æ¡Œé¢åº”ç”¨æ¡†æ¶
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [Ant Design](https://ant.design/) - ä¼ä¸šçº§ UI è®¾è®¡è¯­è¨€
- [é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/) - æä¾›å¼ºå¤§çš„ API æ”¯æŒ

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å¸®åŠ©ï¼š

- ğŸ“‹ [æäº¤ Issue](https://github.com/ytcheng/feishu_docs_export/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
